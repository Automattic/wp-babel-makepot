#!/usr/bin/env node

'use strict';

/**
 * External dependencies.
 */
const program = require( 'commander' );
const glob = require( 'glob' );

/**
 * Internal dependencies.
 */
const makePot = require( '../index' );
const version = require( '../package.json' ).version;

program
	.version( version )
	.option( '-i, --ignore <type>', 'add pattern to exclude matches' )
	.action( ( command, [ files ] ) => {
		const ignore = program.ignore && program.ignore.split( ',' );

		glob.sync( files, { nodir: true, ignore } ).forEach( makePot );
	} )
	.parse( process.argv );

